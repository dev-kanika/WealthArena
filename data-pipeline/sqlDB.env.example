# ---- Azure SQL ----
# Replace with your actual SQL Server details
SQL_SERVER=your-sql-server.database.windows.net
SQL_DB=your_database_name
SQL_UID=your_username
SQL_PWD=your_password_here

# ⚠️ PREREQUISITE: Install ODBC Driver 18 for SQL Server
# Windows: winget install --id Microsoft.msodbcsql.18 -e
# Or download from: https://learn.microsoft.com/en-us/sql/connect/odbc/download-odbc-driver-for-sql-server
# Verify installation: Run 'odbcad32.exe' and check the Drivers tab
# Note: Driver bitness (32-bit/64-bit) must match your Python installation

# Optional: Specify ODBC Driver explicitly (default: ODBC Driver 18 for SQL Server)
# IMPORTANT: The driver must be installed on your system before running processAndStore.py
# Ensure the driver bitness matches your Python interpreter (64-bit Python requires 64-bit driver)
# SQL_DRIVER=ODBC Driver 18 for SQL Server

# Alternative: Use full connection URI instead of individual parts
# Example: mssql+pyodbc://user:pass@your-server.database.windows.net:1433/yourdb?driver=ODBC+Driver+18+for+SQL+Server&Encrypt=yes&TrustServerCertificate=no
# AZURE_SQL_CONN_URI=mssql+pyodbc://your_username:your_password@your-sql-server.database.windows.net:1433/your_database_name?driver=ODBC+Driver+18+for+SQL+Server&Encrypt=yes&TrustServerCertificate=no

# ---- ADLS (access key or SAS – pick one) ----
# Option 1: Use connection string (recommended)
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your_account_name;AccountKey=your_account_key_here;EndpointSuffix=core.windows.net

# Option 2: Use account name and key separately
# AZURE_STORAGE_ACCOUNT=your_account_name
# AZURE_STORAGE_KEY=your_account_key_here

AZURE_UPLOAD=true
AZURE_STORAGE_FILESYSTEM=raw
AZURE_PREFIX=asxStocks

# ---- Processing Configuration ----
ADLS_CONTAINER=raw
ADLS_RAW_PREFIX=asxStocks

# Optional: Process multiple asset classes in one run (comma-separated list)
# Example: ADLS_RAW_PREFIX_LIST=asxStocks,crypto,forex,commodities,etfs
# ADLS_RAW_PREFIX_LIST=asxStocks,crypto,forex,commodities,etfs

BATCH_ROWS=75000
MERGE_EVERY_ROWS=200000

# ⚠️ DANGER: Truncation will DELETE all data in processed_prices table!
# Requires both TRUNCATE_PRICES_BEFORE=true AND CONFIRM_TRUNCATE=YES to execute
TRUNCATE_PRICES_BEFORE=false
CONFIRM_TRUNCATE=NO

# ⚠️ SAFETY: Deletion is opt-in only. Set to true only after verifying MERGE results.
ADLS_DELETE_SOURCE=false

# ---- Troubleshooting ----
# Error: "Data source name not found and no default driver specified"
# Solution: Install ODBC Driver 18 for SQL Server (see PREREQUISITE section above)
#
# Error: "Connection timeout" or "Cannot open server"
# Solution: Check Azure SQL firewall rules, add your IP address in Azure Portal
#
# Error: "Login failed for user"
# Solution: Verify SQL_UID and SQL_PWD are correct, check user permissions

